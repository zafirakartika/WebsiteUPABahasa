# UPA Bahasa UPNVJ - Academic Language Service Unit

Sistem manajemen berbasis web untuk Unit Pelayanan Akademik Bahasa Universitas Pembangunan Nasional Veteran Jakarta, dengan fitur integrasi data akademik SIAKAD UPNVJ, pendaftaran tes ELPT, manajemen hasil tes, dan kursus persiapan.

## 🎯 Fitur Utama

### Untuk Mahasiswa
- Dashboard Mahasiswa: Overview status tes, hasil, dan progress kursus
- Pendaftaran ELPT: Sistem pendaftaran online dengan pilihan jadwal fleksibel
- Hasil Tes: Tampilan hasil tes dengan visualisasi score dan sertifikat digital
- Kursus Persiapan: Program 24 sesi persiapan ELPT dengan tracking progress
- Notifikasi Real-time: Update status pembayaran dan hasil tes

### Untuk Admin
- **Dashboard Admin: Statistik lengkap dan monitoring sistem
- **Manajemen Pendaftaran**: Kelola pendaftaran tes dan konfirmasi pembayaran
- **Input Hasil Tes**: Interface untuk memasukkan dan mengelola hasil tes
- **Manajemen Kursus**: Monitoring progress kursus dan kehadiran
- **Laporan & Export**: Generate laporan dalam format Excel, CSV, dan PDF

## 🛠️ Teknologi yang Digunakan

### Frontend
- **HTML5** - Struktur halaman web
- **CSS3 + Bootstrap 5** - Styling dan responsive design
- **JavaScript (ES6+)** - Interaktivitas dan AJAX
- **jQuery** - DOM manipulation dan AJAX calls
- **Chart.js** - Visualisasi data dan grafik
- **Bootstrap Icons** - Icon set

### Backend
- **PHP 8.x** - Server-side programming
- **MySQL** - Database management system
- **REST API** - API endpoints untuk komunikasi client-server

### Additional Libraries
- **SweetAlert2** - Enhanced notification system
- **DataTables** - Advanced table functionality
- **TCPDF** - PDF generation untuk sertifikat

## 📁 Struktur Proyek
upa-bahasa/
├── assets/
│   ├── css/
│   │   ├── bootstrap.min.css
│   │   └── custom.css
│   ├── js/
│   │   ├── bootstrap.min.js
│   │   ├── jquery.min.js
│   │   ├── chart.min.js
│   │   └── app.js
│   └── images/
├── api/
│   ├── auth/
│   │   └── login.php
│   ├── elpt/
│   │   ├── register.php
│   │   ├── available-dates.php
│   │   └── download-certificate.php
│   ├── admin/
│   │   └── stats.php
│   └── config/
│       └── database.php
├── admin/
│   ├── dashboard.php
│   ├── registrations.php
│   ├── payments.php
│   ├── test-results.php
│   └── students.php
├── student/
│   ├── dashboard.php
│   ├── elpt-registration.php
│   ├── test-results.php
│   └── course.php
├── includes/
│   ├── header.php
│   ├── footer.php
│   └── navigation.php
├── uploads/
│   ├── certificates/
│   ├── payment-proofs/
│   └── profile-pictures/
├── index.php
├── login.php
├── register.php
├── logout.php
├── .htaccess
├── database_schema.sql
└── README.md
```

## 🚀 Instalasi & Setup

### Persyaratan Sistem
- **PHP 8.0** atau lebih tinggi
- **MySQL 5.7** atau **MariaDB 10.3** atau lebih tinggi
- **Apache/Nginx** web server
- **Composer** (opsional untuk dependencies tambahan)
- **Extension PHP**: mysqli, pdo, gd, mbstring, openssl, json

### Langkah Instalasi

1. **Clone Repository**
   ```bash
   git clone https://github.com/upnvj/upa-bahasa.git
   cd upa-bahasa
   ```

2. **Setup Database**
   ```bash
   # Buat database MySQL
   mysql -u root -p
   CREATE DATABASE db_upabahasa;
   exit

   # Import schema database
   mysql -u root -p db_upabahasa < database_schema.sql
   ```

3. **Konfigurasi Database**
   Edit file `api/config/database.php`:
   ```php
   define('DB_HOST', 'localhost');
   define('DB_NAME', 'db_upabahasa');
   define('DB_USER', 'root');
   define('DB_PASS', 'your_password');
   ```

4. **Set Permissions**
   ```bash
   chmod 755 uploads/
   chmod 755 uploads/certificates/
   chmod 755 uploads/payment-proofs/
   chmod 755 uploads/profile-pictures/
   ```

5. **Virtual Host (Apache)**
   ```apache
   <VirtualHost *:80>
       ServerName upabahasa.local
       DocumentRoot /path/to/upa-bahasa
       <Directory /path/to/upa-bahasa>
           AllowOverride All
           Require all granted
       </Directory>
   </VirtualHost>
   ```

6. **Update hosts file** (untuk development)
   ```
   127.0.0.1 upabahasa.local
   ```

## 👤 Akun Default

### Administrator
- **Email**: admin@upabahasa.upnvj.ac.id
- **Password**: password

### Mahasiswa Demo
- **Email**: budi@student.upnvj.ac.id
- **Password**: password
- **NIM**: 2023010001

## 🔧 Konfigurasi

### Environment Variables
Buat file `.env` di root directory:
```env
# Database Configuration
DB_HOST=localhost
DB_NAME=db_upabahasa
DB_USER=root
DB_PASS=your_password

# Application Settings
APP_NAME="UPA Bahasa UPNVJ"
APP_URL=http://upabahasa.local
APP_DEBUG=true

# Email Configuration (untuk notifikasi)
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password
MAIL_FROM=upabahasa@upnvj.ac.id

# File Upload Settings
MAX_UPLOAD_SIZE=10M
ALLOWED_EXTENSIONS=jpg,jpeg,png,pdf,doc,docx

# ELPT Settings
ELPT_FEE=100000
COURSE_FEE=750000
MIN_PASSING_SCORE=450
MAX_PARTICIPANTS_PER_SESSION=30
```

### System Settings
Pengaturan sistem dapat diubah melalui database tabel `system_settings` atau admin panel:

- **elpt_fee**: Biaya tes ELPT (default: Rp 100.000)
- **course_fee**: Biaya kursus persiapan (default: Rp 750.000)
- **min_passing_score**: Skor minimum kelulusan (default: 450)
- **max_participants_per_session**: Maksimal peserta per sesi (default: 30)

## 🎨 Customization

### Tema dan Styling
- Edit `assets/css/custom.css` untuk styling kustom
- Ubah variabel CSS di `:root` untuk color scheme
- Modifikasi Bootstrap variables sebelum compile (opsional)

### Logo dan Branding
- Ganti logo di `assets/images/logo.png`
- Update favicon di root directory
- Modifikasi header dan footer di `includes/`

## 📊 Database Schema

### Tabel Utama

#### users
Menyimpan data pengguna (mahasiswa dan admin)
- id, name, email, password, nim, role, program_studi, fakultas, dll.

#### elpt_registrations
Data pendaftaran tes ELPT
- user_id, test_date, keperluan, billing_number, payment_status

#### elpt_results
Hasil tes ELPT
- user_id, listening_score, structure_score, reading_score, total_score

#### courses
Data kursus persiapan ELPT
- user_id, total_sessions, current_session, final_test_date, status

#### certificates
Sertifikat yang diterbitkan
- user_id, certificate_type, certificate_number, issue_date

## 🔐 Keamanan

### Implementasi Keamanan
- **Password Hashing**: bcrypt dengan salt
- **SQL Injection Protection**: Prepared statements
- **XSS Protection**: Input sanitization dan output encoding
- **CSRF Protection**: Token validation untuk form
- **Session Security**: Secure session configuration
- **File Upload Validation**: Type dan size validation
- **Role-based Access Control**: Pembatasan akses berdasarkan role

### Security Headers (.htaccess)
```apache
Header always set X-Frame-Options SAMEORIGIN
Header always set X-Content-Type-Options nosniff
Header always set X-XSS-Protection "1; mode=block"
Header always set Referrer-Policy "strict-origin-when-cross-origin"
```

## 📱 API Documentation

### Authentication
```http
POST /api/auth/login
Content-Type: application/json

{
    "email": "user@example.com",
    "password": "password123"
}
```

### ELPT Registration
```http
POST /api/elpt/register
Content-Type: application/json

{
    "test_date": "2024-12-15",
    "keperluan": "Skripsi/Tesis/Tugas Akhir"
}
```

### Get Available Dates
```http
GET /api/elpt/available-dates
```

### Admin Statistics
```http
GET /api/admin/stats
Authorization: Bearer {token}
```

## 🧪 Testing

### Manual Testing
1. **Registration Flow**: Daftar akun baru → Verifikasi email → Login
2. **ELPT Registration**: Pilih tanggal → Upload bukti bayar → Konfirmasi admin
3. **Result View**: Admin input hasil → Mahasiswa lihat hasil → Download sertifikat
4. **Course Flow**: Daftar kursus → Jadwal sesi → Final test

### Unit Testing (opsional)
```bash
# Install PHPUnit
composer require --dev phpunit/phpunit

# Run tests
./vendor/bin/phpunit tests/
```

## 🚀 Deployment

### Production Setup
1. **Server Requirements**
   - Linux VPS/Dedicated Server
   - Apache/Nginx + PHP 8.0+ + MySQL 8.0+
   - SSL Certificate (Let's Encrypt)
   - Backup strategy

2. **Environment Configuration**
   ```bash
   # Set production environment
   APP_DEBUG=false
   
   # Enable HTTPS redirects
   # Uncomment HTTPS rules in .htaccess
   
   # Set secure session cookies
   php_value session.cookie_secure 1
   ```

3. **Performance Optimization**
   - Enable OPcache
   - Configure MySQL for production
   - Setup CDN untuk static assets
   - Implement Redis untuk session storage (opsional)

### Backup Strategy
```bash
# Database backup
mysqldump -u root -p db_upabahasa > backup_$(date +%Y%m%d).sql

# File backup
tar -czf files_backup_$(date +%Y%m%d).tar.gz uploads/

# Automated backup (crontab)
0 2 * * * /path/to/backup_script.sh
```

## 🔄 Maintenance

### Regular Tasks
- **Database Cleanup**: Jalankan `CALL CleanupExpiredData()` mingguan
- **Log Rotation**: Archive log files bulanan
- **Security Updates**: Update PHP dan dependencies
- **Backup Verification**: Test restore procedures

### Monitoring
- Server resource usage (CPU, Memory, Disk)
- Database performance dan slow queries
- Application errors dan access logs
- SSL certificate expiration

## 🤝 Contributing

### Development Workflow
1. Fork repository
2. Create feature branch (`git checkout -b feature/amazing-feature`)
3. Commit changes (`git commit -m 'Add amazing feature'`)
4. Push to branch (`git push origin feature/amazing-feature`)
5. Open Pull Request

### Coding Standards
- **PHP**: Follow PSR-12 coding standard
- **JavaScript**: Use ES6+ features, JSDoc comments
- **CSS**: BEM methodology, responsive design
- **Database**: Proper indexing, normalized structure

## 📞 Support

### Technical Support
- **Email**: support@upabahasa.upnvj.ac.id
- **Documentation**: https://docs.upabahasa.upnvj.ac.id
- **Issues**: https://github.com/upnvj/upa-bahasa/issues

### Training Materials
- User Manual untuk Mahasiswa
- Admin Guide untuk Administrator
- Video Tutorial (YouTube channel)
- FAQ dan Troubleshooting Guide

## 📝 License

This project is licensed under the MIT License - see the [LICENSE.md](LICENSE.md) file for details.

## 🙏 Acknowledgments

- **UPN Veteran Jakarta** - Institutional support
- **SIAKAD UPNVJ** - Academic data integration
- **Bootstrap Team** - UI framework
- **Chart.js** - Data visualization
- **PHP Community** - Language development

---

**UPA Bahasa UPNVJ** © 2024 - Unit Pelayanan Akademik Bahasa  
Universitas Pembangunan Nasional Veteran Jakarta